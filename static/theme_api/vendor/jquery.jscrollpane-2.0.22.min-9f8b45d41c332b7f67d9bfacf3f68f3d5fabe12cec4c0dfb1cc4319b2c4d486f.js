/*!
 * jScrollPane - v2.0.22 - 2015-04-25
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2014 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(Be){Be.fn.jScrollPane=function(n){function o(l,e){function p(e){var t,n,o,i,s,r,a=!1,c=!1;if(I=e,void 0===F)s=l.scrollTop(),r=l.scrollLeft(),l.css({overflow:"hidden",padding:0}),L=l.innerWidth()+ge,q=l.innerHeight(),l.width(L),F=Be('<div class="jspPane" />').css("padding",je).append(l.children()),O=Be('<div class="jspContainer" />').css({width:L+"px",height:q+"px"}).append(F).appendTo(l);else{if(l.css("width",""),a=I.stickToBottom&&B(),c=I.stickToRight&&D(),(i=l.innerWidth()+ge!=L||l.outerHeight()!=q)&&(L=l.innerWidth()+ge,q=l.innerHeight(),O.css({width:L+"px",height:q+"px"})),!i&&ve==V&&F.outerHeight()==G)return void l.width(L);ve=V,F.css("width",""),l.width(L),O.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}F.css("overflow","auto"),V=e.contentWidth?e.contentWidth:F[0].scrollWidth,G=F[0].scrollHeight,F.css("overflow",""),K=1<(E=G/q),(Q=1<(N=V/L))||K?(l.addClass("jspScrollable"),(t=I.maintainPosition&&(J||ee))&&(n=C(),o=T()),u(),d(),f(),t&&(k(c?V-L:n,!1),w(a?G-q:o,!1)),P(),x(),X(),I.enableKeyboardNavigation&&W(),I.clickOnTrack&&j(),z(),I.hijackInternalLinks&&M()):(l.removeClass("jspScrollable"),F.css({top:0,left:0,width:O.width()-ge}),H(),A(),Y(),g()),I.autoReinitialise&&!he?he=setInterval(function(){p(I)},I.autoReinitialiseDelay):!I.autoReinitialise&&he&&clearInterval(he),s&&l.scrollTop(0)&&w(s,!1),r&&l.scrollLeft(0)&&k(r,!1),l.trigger("jsp-initialised",[Q||K])}function u(){K&&(O.append(Be('<div class="jspVerticalBar" />').append(Be('<div class="jspCap jspCapTop" />'),Be('<div class="jspTrack" />').append(Be('<div class="jspDrag" />').append(Be('<div class="jspDragTop" />'),Be('<div class="jspDragBottom" />'))),Be('<div class="jspCap jspCapBottom" />'))),te=O.find(">.jspVerticalBar"),ne=te.find(">.jspTrack"),U=ne.find(">.jspDrag"),I.showArrows&&(re=Be('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",h(0,-1)).bind("click.jsp",S),ae=Be('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",h(0,1)).bind("click.jsp",S),I.arrowScrollOnHover&&(re.bind("mouseover.jsp",h(0,-1,re)),ae.bind("mouseover.jsp",h(0,1,ae))),t(ne,I.verticalArrowPositions,re,ae)),ie=q,O.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ie-=Be(this).outerHeight()}),U.hover(function(){U.addClass("jspHover")},function(){U.removeClass("jspHover")}).bind("mousedown.jsp",function(e){Be("html").bind("dragstart.jsp selectstart.jsp",S),U.addClass("jspActive");var t=e.pageY-U.position().top;return Be("html").bind("mousemove.jsp",function(e){v(e.pageY-t,!1)}).bind("mouseup.jsp mouseleave.jsp",s),!1}),n())}function n(){ne.height(ie+"px"),J=0,oe=I.verticalGutter+ne.outerWidth(),F.width(L-oe-ge);try{0===te.position().left&&F.css("margin-left",oe+"px")}catch(Be){}}function d(){Q&&(O.append(Be('<div class="jspHorizontalBar" />').append(Be('<div class="jspCap jspCapLeft" />'),Be('<div class="jspTrack" />').append(Be('<div class="jspDrag" />').append(Be('<div class="jspDragLeft" />'),Be('<div class="jspDragRight" />'))),Be('<div class="jspCap jspCapRight" />'))),ce=O.find(">.jspHorizontalBar"),le=ce.find(">.jspTrack"),Z=le.find(">.jspDrag"),I.showArrows&&(de=Be('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",h(-1,0)).bind("click.jsp",S),fe=Be('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",h(1,0)).bind("click.jsp",S),I.arrowScrollOnHover&&(de.bind("mouseover.jsp",h(-1,0,de)),fe.bind("mouseover.jsp",h(1,0,fe))),t(le,I.horizontalArrowPositions,de,fe)),Z.hover(function(){Z.addClass("jspHover")},function(){Z.removeClass("jspHover")}).bind("mousedown.jsp",function(e){Be("html").bind("dragstart.jsp selectstart.jsp",S),Z.addClass("jspActive");var t=e.pageX-Z.position().left;return Be("html").bind("mousemove.jsp",function(e){m(e.pageX-t,!1)}).bind("mouseup.jsp mouseleave.jsp",s),!1}),pe=O.innerWidth(),o())}function o(){O.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){pe-=Be(this).outerWidth()}),le.width(pe+"px"),ee=0}function f(){if(Q&&K){var e=le.outerHeight(),t=ne.outerWidth();ie-=e,Be(ce).find(">.jspCap:visible,>.jspArrow").each(function(){pe+=Be(this).outerWidth()}),pe-=t,q-=t,L-=e,le.parent().append(Be('<div class="jspCorner" />').css("width",e+"px")),n(),o()}Q&&F.width(O.outerWidth()-ge+"px"),G=F.outerHeight(),E=G/q,Q&&((ue=Math.ceil(1/N*pe))>I.horizontalDragMaxWidth?ue=I.horizontalDragMaxWidth:ue<I.horizontalDragMinWidth&&(ue=I.horizontalDragMinWidth),Z.width(ue+"px"),_=pe-ue,a(ee)),K&&((se=Math.ceil(1/E*ie))>I.verticalDragMaxHeight?se=I.verticalDragMaxHeight:se<I.verticalDragMinHeight&&(se=I.verticalDragMinHeight),U.height(se+"px"),$=ie-se,r(J))}function t(e,t,n,o){var i,s="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==s?r=t:t==r&&(s=t,i=n,n=o,o=i),e[s](n)[r](o)}function h(e,t,n){return function(){return i(e,t,this,n),this.blur(),!1}}function i(e,t,n,o){n=Be(n).addClass("jspActive");var i,s,r=!0,a=function(){0!==e&&me.scrollByX(e*I.arrowButtonSpeed),0!==t&&me.scrollByY(t*I.arrowButtonSpeed),s=setTimeout(a,r?I.initialDelay:I.arrowRepeatFreq),r=!1};a(),i=o?"mouseout.jsp":"mouseup.jsp",(o=o||Be("html")).bind(i,function(){n.removeClass("jspActive"),s&&clearTimeout(s),s=null,o.unbind(i)})}function j(){g(),K&&ne.bind("mousedown.jsp",function(i){if(void 0===i.originalTarget||i.originalTarget==i.currentTarget){var s,r=Be(this),e=r.offset(),a=i.pageY-e.top-J,c=!0,l=function(){var e=r.offset(),t=i.pageY-e.top-se/2,n=q*I.scrollPagePercent,o=$*n/(G-q);if(a<0)t<J-o?me.scrollByY(-n):v(t);else{if(!(0<a))return void p();J+o<t?me.scrollByY(n):v(t)}s=setTimeout(l,c?I.initialDelay:I.trackClickRepeatFreq),c=!1},p=function(){s&&clearTimeout(s),s=null,Be(document).unbind("mouseup.jsp",p)};return l(),Be(document).bind("mouseup.jsp",p),!1}}),Q&&le.bind("mousedown.jsp",function(i){if(void 0===i.originalTarget||i.originalTarget==i.currentTarget){var s,r=Be(this),e=r.offset(),a=i.pageX-e.left-ee,c=!0,l=function(){var e=r.offset(),t=i.pageX-e.left-ue/2,n=L*I.scrollPagePercent,o=_*n/(V-L);if(a<0)t<ee-o?me.scrollByX(-n):m(t);else{if(!(0<a))return void p();ee+o<t?me.scrollByX(n):m(t)}s=setTimeout(l,c?I.initialDelay:I.trackClickRepeatFreq),c=!1},p=function(){s&&clearTimeout(s),s=null,Be(document).unbind("mouseup.jsp",p)};return l(),Be(document).bind("mouseup.jsp",p),!1}})}function g(){le&&le.unbind("mousedown.jsp"),ne&&ne.unbind("mousedown.jsp")}function s(){Be("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),U&&U.removeClass("jspActive"),Z&&Z.removeClass("jspActive")}function v(e,t){K&&(e<0?e=0:$<e&&(e=$),void 0===t&&(t=I.animateScroll),t?me.animate(U,"top",e,r):(U.css("top",e),r(e)))}function r(e){void 0===e&&(e=U.position().top),O.scrollTop(0);var t=0===(J=e||0),n=J==$,o,i=-(e/$)*(G-q);(be!=t||ke!=n)&&(be=t,ke=n,l.trigger("jsp-arrow-change",[be,ke,we,ye])),c(t,n),F.css("top",i),l.trigger("jsp-scroll-y",[-i,t,n]).trigger("scroll")}function m(e,t){Q&&(e<0?e=0:_<e&&(e=_),void 0===t&&(t=I.animateScroll),t?me.animate(Z,"left",e,a):(Z.css("left",e),a(e)))}function a(e){void 0===e&&(e=Z.position().left),O.scrollTop(0);var t=0===(ee=e||0),n=ee==_,o,i=-(e/_)*(V-L);(we!=t||ye!=n)&&(we=t,ye=n,l.trigger("jsp-arrow-change",[be,ke,we,ye])),b(t,n),F.css("left",i),l.trigger("jsp-scroll-x",[-i,t,n]).trigger("scroll")}function c(e,t){I.showArrows&&(re[e?"addClass":"removeClass"]("jspDisabled"),ae[t?"addClass":"removeClass"]("jspDisabled"))}function b(e,t){I.showArrows&&(de[e?"addClass":"removeClass"]("jspDisabled"),fe[t?"addClass":"removeClass"]("jspDisabled"))}function w(e,t){var n;v(e/(G-q)*$,t)}function k(e,t){var n;m(e/(V-L)*_,t)}function y(e,t,n){var o,i,s,r,a,c,l,p,u,d=0,f=0;try{o=Be(e)}catch(v){return}for(i=o.outerHeight(),s=o.outerWidth(),O.scrollTop(0),O.scrollLeft(0);!o.is(".jspPane");)if(d+=o.position().top,f+=o.position().left,o=o.offsetParent(),/^body|html$/i.test(o[0].nodeName))return;c=(r=T())+q,d<r||t?p=d-I.horizontalGutter:c<d+i&&(p=d-q+i+I.horizontalGutter),isNaN(p)||w(p,n),l=(a=C())+L,f<a||t?u=f-I.horizontalGutter:l<f+s&&(u=f-L+s+I.horizontalGutter),isNaN(u)||k(u,n)}function C(){return-F.position().left}function T(){return-F.position().top}function B(){var e=G-q;return 20<e&&e-T()<10}function D(){var e=V-L;return 20<e&&e-C()<10}function x(){O.unbind(Te).bind(Te,function(e,t,n,o){ee||(ee=0),J||(J=0);var i=ee,s=J,r=e.deltaFactor||I.mouseWheelSpeed;return me.scrollBy(n*r,-o*r,!1),i==ee&&s==J})}function H(){O.unbind(Te)}function S(){return!1}function P(){F.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){y(e.target,!1)})}function A(){F.find(":input,a").unbind("focus.jsp")}function W(){function o(){var e=ee,t=J;switch(i){case 40:me.scrollByY(I.keyboardSpeed,!1);break;case 38:me.scrollByY(-I.keyboardSpeed,!1);break;case 34:case 32:me.scrollByY(q*I.scrollPagePercent,!1);break;case 33:me.scrollByY(-q*I.scrollPagePercent,!1);break;case 39:me.scrollByX(I.keyboardSpeed,!1);break;case 37:me.scrollByX(-I.keyboardSpeed,!1)}return s=e!=ee||t!=J}var i,s,r=[];Q&&r.push(ce[0]),K&&r.push(te[0]),F.bind("focus.jsp",function(){l.focus()}),l.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(e){if(e.target===this||r.length&&Be(e.target).closest(r).length){var t=ee,n=J;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:i=e.keyCode,o();break;case 35:w(G-q),i=null;break;case 36:w(0),i=null}return!(s=e.keyCode==i&&t!=ee||n!=J)}}).bind("keypress.jsp",function(e){return e.keyCode==i&&o(),!s}),I.hideFocus?(l.css("outline","none"),"hideFocus"in O[0]&&l.attr("hideFocus",!0)):(l.css("outline",""),"hideFocus"in O[0]&&l.attr("hideFocus",!1))}function Y(){l.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),F.unbind(".jsp")}function z(){if(location.hash&&1<location.hash.length){var e,t,n=escape(location.hash.substr(1));try{e=Be("#"+n+', a[name="'+n+'"]')}catch(u){return}e.length&&F.find(n)&&(0===O.scrollTop()?t=setInterval(function(){0<O.scrollTop()&&(y(e,!0),Be(document).scrollTop(O.position().top),clearInterval(t))},50):(y(e,!0),Be(document).scrollTop(O.position().top)))}}function M(){Be(document.body).data("jspHijack")||(Be(document.body).data("jspHijack",!0),Be(document.body).delegate("a[href*=#]","click",function(e){var t,n,o,i,s,r,a=this.href.substr(0,this.href.indexOf("#")),c=location.href;if(-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#"))),a===c){t=escape(this.href.substr(this.href.indexOf("#")+1));try{n=Be("#"+t+', a[name="'+t+'"]')}catch(h){return}n.length&&((i=(o=n.closest(".jspScrollable")).data("jsp")).scrollToElement(n,!0),o[0].scrollIntoView&&(s=Be(window).scrollTop(),((r=n.offset().top)<s||r>s+Be(window).height())&&o[0].scrollIntoView()),e.preventDefault())}}))}function X(){var i,s,r,a,c,l=!1;O.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(e){var t=e.originalEvent.touches[0];i=C(),s=T(),r=t.pageX,a=t.pageY,l=!(c=!1)}).bind("touchmove.jsp",function(e){if(l){var t=e.originalEvent.touches[0],n=ee,o=J;return me.scrollTo(i+r-t.pageX,s+a-t.pageY),c=c||5<Math.abs(r-t.pageX)||5<Math.abs(a-t.pageY),n==ee&&o==J}}).bind("touchend.jsp",function(e){l=!1}).bind("click.jsp-touchclick",function(e){return c?c=!1:void 0})}function R(){var e=T(),t=C();l.removeClass("jspScrollable").unbind(".jsp"),F.unbind(".jsp"),l.replaceWith(Ce.append(F.children())),Ce.scrollTop(e),Ce.scrollLeft(t),he&&clearInterval(he)}var I,F,L,q,O,V,G,N,E,K,Q,U,$,J,Z,_,ee,te,ne,oe,ie,se,re,ae,ce,le,pe,ue,de,fe,he,je,ge,ve,me=this,be=!0,we=!0,ke=!1,ye=!1,Ce=l.clone(!1,!1).empty(),Te=Be.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===l.css("box-sizing")?ge=je=0:(je=l.css("paddingTop")+" "+l.css("paddingRight")+" "+l.css("paddingBottom")+" "+l.css("paddingLeft"),ge=(parseInt(l.css("paddingLeft"),10)||0)+(parseInt(l.css("paddingRight"),10)||0)),Be.extend(me,{reinitialise:function(e){p(e=Be.extend({},I,e))},scrollToElement:function(e,t,n){y(e,t,n)},scrollTo:function(e,t,n){k(e,n),w(t,n)},scrollToX:function(e,t){k(e,t)},scrollToY:function(e,t){w(e,t)},scrollToPercentX:function(e,t){k(e*(V-L),t)},scrollToPercentY:function(e,t){w(e*(G-q),t)},scrollBy:function(e,t,n){me.scrollByX(e,n),me.scrollByY(t,n)},scrollByX:function(e,t){var n,o;m((C()+Math[e<0?"floor":"ceil"](e))/(V-L)*_,t)},scrollByY:function(e,t){var n,o;v((T()+Math[e<0?"floor":"ceil"](e))/(G-q)*$,t)},positionDragX:function(e,t){m(e,t)},positionDragY:function(e,t){v(e,t)},animate:function(e,t,n,o){var i={};i[t]=n,e.animate(i,{duration:I.animateDuration,easing:I.animateEase,queue:!1,step:o})},getContentPositionX:function(){return C()},getContentPositionY:function(){return T()},getContentWidth:function(){return V},getContentHeight:function(){return G},getPercentScrolledX:function(){return C()/(V-L)},getPercentScrolledY:function(){return T()/(G-q)},getIsScrollableH:function(){return Q},getIsScrollableV:function(){return K},getContentPane:function(){return F},scrollToBottom:function(e){v($,e)},hijackInternalLinks:Be.noop,destroy:function(){R()}}),p(e)}return n=Be.extend({},Be.fn.jScrollPane.defaults,n),Be.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){n[this]=n[this]||n.speed}),this.each(function(){var e=Be(this),t=e.data("jsp");t?t.reinitialise(n):(Be("script",e).filter('[type="text/javascript"],:not([type])').remove(),t=new o(e,n),e.data("jsp",t))})},Be.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}});